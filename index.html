<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Technology Memory</title>
  <style>
    :root{
      --bg-a: #8EE3F5; /* sky */
      --bg-b: #D8F8B7; /* grass */
      --ink: #183153;
      --accent: #FFB703;
      --accent-2:#FB7185;
      --card:#ffffff;
      --good:#10B981; /* green */
      --bad:#EF4444;  /* red */
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, "Noto Sans", "Apple Color Emoji","Segoe UI Emoji";
      color:var(--ink);
      background: linear-gradient(180deg,var(--bg-a), var(--bg-b));
      display:flex; align-items:center; justify-content:center; padding:18px;
    }
    .app{
      width:min(1100px, 96vw);
      display:grid; gap:16px;
      grid-template-rows:auto auto 1fr auto;
      background: rgba(255,255,255,.35);
      border: 3px solid rgba(0,0,0,.05);
      backdrop-filter: blur(6px);
      border-radius: 20px; box-shadow: 0 12px 30px rgba(0,0,0,.15);
      padding: 16px 16px 22px;
    }
    header{
      display:flex; align-items:center; justify-content:space-between; gap:12px;
    }
    .title{
      display:flex; align-items:center; gap:10px;
    }
    .logo{
      font-size:34px; line-height:1; filter: drop-shadow(0 2px 1px rgba(0,0,0,.12));
    }
    h1{font-size: clamp(22px, 3.4vw, 36px); margin:0; letter-spacing:.4px}
    .stats{display:flex; gap:14px; align-items:center; flex-wrap:wrap}
    .pill{
      background:#fff; border:2px solid rgba(0,0,0,.06); border-radius:999px; padding:8px 14px; font-weight:700;
      display:flex; align-items:center; gap:8px; box-shadow: 0 4px 10px rgba(0,0,0,.08);
    }
    .pill .dot{width:10px; height:10px; border-radius:50%}
    #timer .dot{background:var(--accent)}
    #matches .dot{background:var(--good)}
    #restartBtn{
      border:0; background:var(--accent-2); color:white; font-weight:800; padding:10px 16px; border-radius:12px; cursor:pointer;
      box-shadow:0 8px 18px rgba(251,113,133,.35);
    }
    #restartBtn:hover{ transform: translateY(-1px) }

    /* Grid */
    #grid{
      display:grid; gap:12px;
      grid-template-columns: repeat(auto-fit, minmax(110px, 1fr));
      align-content:start; padding:6px;
    }

    /* Card */
    .card{
      position:relative; width:100%; aspect-ratio:3/4; perspective:900px; cursor:pointer;
    }
    .card-inner{
      position:absolute; inset:0; border-radius:14px; transform-style:preserve-3d; transition: transform .5s ease;
    }
    .card.is-flipped .card-inner{ transform: rotateY(180deg); }

    .side{
      position:absolute; inset:0; border-radius:14px; backface-visibility:hidden; overflow:hidden; display:flex; align-items:center; justify-content:center;
      border:3px solid rgba(0,0,0,.07); box-shadow: 0 6px 14px rgba(0,0,0,.12);
    }
    .front{
      background: conic-gradient(from 90deg, #fff, #fff 25%, #E9F7FF 0, #E9F7FF 50%, #fff 0, #fff 75%, #E9F7FF 0);
      background-size: 32px 32px;
      font-size: clamp(28px, 5vw, 40px);
    }
    .front .emoji{filter: drop-shadow(0 3px 1px rgba(0,0,0,.1));}

    .back{ background:var(--card); transform: rotateY(180deg); flex-direction:column; padding:8px; }
    .back img{ width:85%; max-height:70%; object-fit:contain; }
    .image-name{ font-size: clamp(12px, 1.8vw, 14px); font-weight:800; color:var(--ink); text-align:center; margin-top:6px; }

    /* Match animations: images disappear on match */
    .card.matched{ pointer-events:none; }
    .card.matched .card-inner{ animation: pop-out .45s ease forwards; }
    @keyframes pop-out{
      0%{ transform: rotateY(180deg) scale(1); opacity:1 }
      70%{ transform: rotateY(180deg) scale(1.07); }
      100%{ transform: rotateY(180deg) scale(.2); opacity:0 }
    }

    /* Overlay */
    .overlay{
      position: fixed; inset:0; display:none; align-items:center; justify-content:center; background: rgba(0,0,0,.35);
      padding:20px; z-index:10;
    }
    .overlay.show{ display:flex }
    .dialog{
      width:min(560px, 96vw); background:white; border-radius:18px; padding:22px; text-align:center;
      box-shadow: 0 18px 40px rgba(0,0,0,.25);
    }
    .dialog h2{ margin:6px 0 8px }
    .dialog p{ margin:6px 0 16px }
    .dialog .btns{ display:flex; justify-content:center; gap:10px; flex-wrap:wrap }
    .btn{
      border:0; background:var(--accent); color:#1b1b1b; font-weight:900; padding:10px 18px; border-radius:12px; cursor:pointer;
      box-shadow:0 8px 18px rgba(255,183,3,.35);
    }

    /* Helpful for very small screens */
    @media (max-width:480px){
      #grid{ grid-template-columns: repeat(3, 1fr); }
    }
  </style>
</head>
<body>
  <div class="app">
    <header>
      <div class="title">
        <div class="logo">üñ±Ô∏è</div>
        <h1>Technology Memory</h1>
      </div>
      <div class="stats">
        <div id="timer" class="pill"><span class="dot"></span> <span>1:00</span></div>
        <div id="matches" class="pill"><span class="dot"></span> <span>0</span> matches</div>
        <button id="restartBtn" aria-label="Restart game">Restart</button>
      </div>
    </header>

    <div class="pill" style="justify-self:start; background:#fff6d8; border-color:#ffe7a8">Find the matching pairs before the timer runs out! When you match a pair, the pictures shrink and disappear. üí´</div>

    <main id="grid" aria-live="polite"></main>

    <footer style="font-size:13px; opacity:.9; display:flex; justify-content:space-between; align-items:center; gap:10px; flex-wrap:wrap">
      <div>Tip: Add your images to <code>/images</code> and update the list in the code.</div>
      <div>¬© Your Classroom</div>
    </footer>
  </div>

  <div id="overlay" class="overlay" role="dialog" aria-modal="true">
    <div class="dialog">
      <h2 id="resultText">Nice try!</h2>
      <p id="finalStats"></p>
      <div class="btns">
        <button class="btn" onclick="startGame(true)">Play again</button>
      </div>
    </div>
  </div>

  <script>
    // =====================
    // CONFIG
    // Put files in /images and list them here.
    const IMAGE_LIST = [
      { src: 'images/canvas.png',         alt: 'Canvas' },
      { src: 'images/chrome.png',         alt: 'Google Chrome Browser' },
      { src: 'images/cursor.png',         alt: 'Cursor' },
      { src: 'images/mouse.png',          alt: 'Mouse' },
      { src: 'images/trackpad.png',       alt: 'Trackpad' },
      { src: 'images/headphonejack.png',  alt: 'Headphone Jack' },
      { src: 'images/keyboard.png',       alt: 'Keyboard' },
      { src: 'images/mute.png',           alt: 'Mute' },
      { src: 'images/powerbutton.png',    alt: 'Power Button' },
      { src: 'images/powerjack.png',      alt: 'Power Jack' },
      { src: 'images/screen.png',         alt: 'Screen' }
    ];

    // Fixed grid: set one of these
    const GRID = { cols: 5, rows: 4 }; // change to { cols: 4, rows: 5 } if you prefer
    const ROUND_SECONDS = 60; // 1 minute

    // =====================
    // STATE
    let firstCard = null;
    let lockBoard = false;
    let matchesFound = 0;
    let totalPairs = 0;
    let timeLeft = ROUND_SECONDS;
    let timerId = null;
    let hasStarted = false;

    // UTILITIES
    const $ = sel => document.querySelector(sel);
    const grid = $('#grid');
    const timerEl = document.querySelector('#timer span:last-child');
    const matchEl = document.querySelector('#matches span:last-child');
    const overlay = $('#overlay');
    const resultText = $('#resultText');
    const finalStats = $('#finalStats');

    function shuffle(arr){
      for(let i=arr.length-1;i>0;i--){
        const j=Math.floor(Math.random()*(i+1));
        const t=arr[i]; arr[i]=arr[j]; arr[j]=t;
      }
      return arr;
    }

    function formatTime(s){
      const m = Math.floor(s/60);
      const sec = s%60;
      return `${m}:${sec.toString().padStart(2,'0')}`;
    }

    function buildDeck(){
      const desiredCards = GRID.cols * GRID.rows; // e.g., 5√ó4 = 20
      const neededPairs = Math.min(Math.floor(desiredCards/2), IMAGE_LIST.length);
      const picks = IMAGE_LIST.slice(0, neededPairs);
      totalPairs = picks.length;
      const deck = [];
      for(let i=0;i<picks.length;i++){
        const img = picks[i];
        deck.push({ ...img, id: i+'a', key: i });
        deck.push({ ...img, id: i+'b', key: i });
      }
      return shuffle(deck);
    }

    function render(deck){
      // lock the grid columns to GRID.cols and render cards
      grid.style.gridTemplateColumns = `repeat(${GRID.cols}, 1fr)`;
      grid.innerHTML = '';
      const chromebookSVG = `
        <svg viewBox="0 0 120 90" width="70%" height="70%" aria-hidden="true" focusable="false">
          <rect x="8" y="8" width="104" height="60" rx="8" fill="#3b82f6"/>
          <rect x="14" y="14" width="92" height="48" rx="4" fill="#e2f2ff"/>
          <circle cx="60" cy="18" r="2" fill="#93c5fd"/>
          <rect x="6" y="70" width="108" height="12" rx="6" fill="#94a3b8"/>
          <rect x="20" y="75" width="80" height="2" rx="1" fill="#cbd5e1"/>
        </svg>`;

      deck.forEach(cardData=>{
        const card = document.createElement('button');
        card.type = 'button';
        card.className = 'card';
        card.setAttribute('aria-label', `Card showing ${cardData.alt}`);
        card.dataset.key = cardData.key;
        card.innerHTML = `
          <div class="card-inner">
            <div class="side front" aria-hidden="true">${chromebookSVG}</div>
            <div class="side back">
              <img src="${cardData.src}" alt="${cardData.alt}" />
              <div class="image-name">${cardData.alt}</div>
            </div>
          </div>`;
        card.addEventListener('click', ()=> onFlip(card));
        grid.appendChild(card);
      });
    }

    function updateHUD(){ matchEl.textContent = matchesFound; }

    function startTimer(){
      timerEl.textContent = formatTime(timeLeft);
      clearInterval(timerId);
      timerId = setInterval(()=>{
        timeLeft--; 
        timerEl.textContent = formatTime(timeLeft);
        if(timeLeft<=0){ clearInterval(timerId); endGame(false); }
      },1000);
    }

    function onFlip(card){
      if(lockBoard) return;
      if(card.classList.contains('is-flipped') || card.classList.contains('matched')) return;

      if(!hasStarted){ hasStarted = true; startTimer(); }

      card.classList.add('is-flipped');

      if(!firstCard){ firstCard = card; return; }

      const secondCard = card;
      const isMatch = firstCard.dataset.key === secondCard.dataset.key;

      if(isMatch){
        lockBoard = true;
        setTimeout(()=>{
          firstCard.classList.add('matched');
          secondCard.classList.add('matched');
          matchesFound++; updateHUD();
          resetTurn();
          if(matchesFound === totalPairs){ clearInterval(timerId); endGame(true); }
        }, 350);
      } else {
        lockBoard = true;
        setTimeout(()=>{
          firstCard.classList.remove('is-flipped');
          secondCard.classList.remove('is-flipped');
          resetTurn();
        }, 650);
      }
    }

    function resetTurn(){ [firstCard, lockBoard] = [null, false]; }

    function endGame(won){
      overlay.classList.add('show');
      resultText.textContent = won ? 'You matched them all! üéâ' : "Time's up!";
      const used = ROUND_SECONDS - timeLeft;
      finalStats.textContent = won 
        ? `You finished with ${formatTime(timeLeft)} left. Great job!`
        : `You matched ${matchesFound} of ${totalPairs} pairs in ${formatTime(used)}.`;
    }

    function startGame(){
      overlay.classList.remove('show');
      matchesFound = 0; updateHUD();
      timeLeft = ROUND_SECONDS; timerEl.textContent = formatTime(timeLeft);
      clearInterval(timerId); hasStarted=false; lockBoard=false; firstCard=null;
      const deck = buildDeck();
      render(deck);
    }

    // Buttons
    document.getElementById('restartBtn').addEventListener('click', startGame);

    // Preload and start once DOM is ready
    window.addEventListener('DOMContentLoaded', () => {
      // Preload images
      IMAGE_LIST.forEach(i=>{ const img=new Image(); img.src=i.src; });
      startGame();
    });
  </script>
</body>
</html>
